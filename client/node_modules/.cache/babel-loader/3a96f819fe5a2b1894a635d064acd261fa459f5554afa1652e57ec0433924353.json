{"ast":null,"code":"import { GET_ALL_VIDEOGAMES, GET_NAMES, GET_VIDEOGAME, GET_BY_GENRES, CREATE_VIDEOGAME, ORDER_BY, FILTER_BY_SOURCE, FILTER_BY_GENRES, GET_PLATFORMS } from '../actions';\nconst initialState = {\n  allVideogames: [],\n  videogames: [],\n  videogame: [],\n  genres: [],\n  platforms: []\n};\nfunction rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_ALL_VIDEOGAMES:\n      //para mi home\n      return {\n        ...state,\n        allVideogames: action.payload,\n        videogames: action.payload //de reserva\n      };\n\n    case GET_NAMES:\n      //para mi searchbar\n      return {\n        ...state,\n        allVideogames: action.payload\n      };\n    case GET_VIDEOGAME:\n      //para mi ruta de detalle\n      return {\n        ...state,\n        videogame: action.payload\n      };\n    case GET_BY_GENRES:\n      return {\n        ...state,\n        genres: action.payload\n      };\n    case CREATE_VIDEOGAME:\n      return {\n        ...state\n      };\n    case ORDER_BY:\n      let vgCopy = [...state.allVideogames]; //hago una copia de mi estado importante\n      let ordenamiento;\n      switch (action.payload) {\n        case 'All':\n          ordenamiento = [...state.allVideogames];\n          break;\n        case 'A-Z':\n          ordenamiento = vgCopy.sort(function (a, b) {\n            if (a.name.toLowerCase() > b.name.toLowerCase()) {\n              return 1;\n            }\n            if (a.name.toLowerCase() < b.name.toLowerCase()) {\n              return -1;\n            }\n            return 0;\n          });\n          break;\n        case 'Z-A':\n          ordenamiento = vgCopy.sort(function (a, b) {\n            if (a.name.toLowerCase() < b.name.toLowerCase()) {\n              return 1;\n            }\n            if (a.name.toLowerCase() > b.name.toLowerCase()) {\n              return -1;\n            }\n            return 0;\n          });\n          break;\n        case 'RatingAsc':\n          ordenamiento = vgCopy.sort(function (a, b) {\n            return a.rating - b.rating;\n          });\n          break;\n        case 'RatingDesc':\n          ordenamiento = vgCopy.sort(function (a, b) {\n            return b.rating - a.rating;\n          });\n          break;\n        default:\n          ordenamiento = vgCopy;\n          break;\n      }\n      return {\n        ...state,\n        allVideogames: ordenamiento,\n        videogames: ordenamiento\n      };\n    case FILTER_BY_GENRES:\n      let aux = [];\n      if (action.payload) {\n        aux = state.videogames.filter(e => {\n          if (e.genres.length === 0) {\n            return e.genres;\n          } else if (e.genres.some(e => e.name === action.payload)) {\n            return e.genres.map(el => el.name);\n          } else {\n            return e.genres.includes(action.payload);\n          }\n        });\n      } else {\n        aux = state.videogames;\n      }\n      return {\n        ...state,\n        allVideogames: aux\n      };\n    case FILTER_BY_SOURCE:\n      let getVg = state.videogames;\n      let filtrado = [];\n      switch (action.payload) {\n        case 'api':\n          filtrado = getVg.filter(el => typeof el.id === 'number');\n          break;\n        case 'created':\n          filtrado = getVg.filter(el => isNaN(el.id));\n          break;\n        default:\n          filtrado = getVg;\n          break;\n      }\n      return {\n        ...state,\n        allVideogames: filtrado\n      };\n    case GET_PLATFORMS:\n      return {\n        ...state,\n        platforms: [...action.payload]\n      };\n    default:\n      return {\n        ...state\n      };\n  }\n}\nexport default rootReducer;","map":{"version":3,"names":["GET_ALL_VIDEOGAMES","GET_NAMES","GET_VIDEOGAME","GET_BY_GENRES","CREATE_VIDEOGAME","ORDER_BY","FILTER_BY_SOURCE","FILTER_BY_GENRES","GET_PLATFORMS","initialState","allVideogames","videogames","videogame","genres","platforms","rootReducer","state","action","type","payload","vgCopy","ordenamiento","sort","a","b","name","toLowerCase","rating","aux","filter","e","length","some","map","el","includes","getVg","filtrado","id","isNaN"],"sources":["C:/Users/joaco/OneDrive/Escritorio/pi_videogames.henry/pi_videogames_henry/client/src/redux/reducer/index.js"],"sourcesContent":["import {\r\n    GET_ALL_VIDEOGAMES,\r\n    GET_NAMES,\r\n    GET_VIDEOGAME,\r\n    GET_BY_GENRES,\r\n    CREATE_VIDEOGAME,\r\n    ORDER_BY,\r\n    FILTER_BY_SOURCE,\r\n    FILTER_BY_GENRES,\r\n    GET_PLATFORMS\r\n} from '../actions'\r\n\r\nconst initialState = {\r\n    allVideogames : [],\r\n    videogames : [],\r\n    videogame: [],\r\n    genres: [],\r\n    platforms: []\r\n}\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case GET_ALL_VIDEOGAMES: //para mi home\r\n            return {\r\n                ...state,\r\n                allVideogames: action.payload,\r\n                videogames: action.payload //de reserva\r\n            };\r\n        case GET_NAMES: //para mi searchbar\r\n            return {\r\n                ...state,\r\n                allVideogames: action.payload\r\n            };\r\n        case GET_VIDEOGAME: //para mi ruta de detalle\r\n            return {\r\n                ...state,\r\n                videogame: action.payload\r\n            };\r\n        case GET_BY_GENRES:\r\n            return {\r\n                ...state,\r\n                genres: action.payload\r\n            };\r\n        case CREATE_VIDEOGAME:\r\n            return {\r\n                ...state\r\n            }\r\n        case ORDER_BY:\r\n            let vgCopy = [...state.allVideogames]; //hago una copia de mi estado importante\r\n            let ordenamiento\r\n\r\n            switch (action.payload) {\r\n                case 'All':\r\n                    ordenamiento = [...state.allVideogames];\r\n                    break;\r\n                case 'A-Z':\r\n                    ordenamiento = vgCopy.sort(function(a, b) {\r\n                        if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n                            return 1\r\n                        }\r\n                        if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n                            return -1\r\n                        }\r\n                        return 0;\r\n                    });\r\n                    break;\r\n                case 'Z-A':\r\n                    ordenamiento = vgCopy.sort(function(a, b) {\r\n                        if(a.name.toLowerCase() < b.name.toLowerCase()) {\r\n                            return 1;\r\n                          }\r\n                          if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n                            return -1;\r\n                          }\r\n                          return 0;\r\n                    })\r\n                    break;\r\n                case 'RatingAsc':\r\n                    ordenamiento = vgCopy.sort(function(a, b) {\r\n                        return a.rating - b.rating\r\n                    })\r\n                    break;\r\n                case 'RatingDesc':\r\n                    ordenamiento = vgCopy.sort(function(a, b) {\r\n                        return b.rating - a.rating\r\n                    })\r\n                    break;\r\n                default:\r\n                    ordenamiento = vgCopy\r\n                    break;\r\n            }\r\n            return {\r\n                ...state,\r\n                allVideogames: ordenamiento,\r\n                videogames : ordenamiento\r\n            };\r\n        case FILTER_BY_GENRES:\r\n            let aux = [];\r\n            if(action.payload) {\r\n                aux = state.videogames.filter(e => {\r\n                    if(e.genres.length === 0){\r\n                        return e.genres\r\n                    }\r\n                    else if(e.genres.some(e => e.name === action.payload)) {\r\n                        return e.genres.map(el => el.name)\r\n                    } else {\r\n                        return e.genres.includes(action.payload)\r\n                    }\r\n                })\r\n            } else {\r\n                aux = state.videogames\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                allVideogames: aux,\r\n            }\r\n            case FILTER_BY_SOURCE:\r\n                let getVg = state.videogames;\r\n                let filtrado = []\r\n    \r\n                switch(action.payload) {\r\n                    case 'api': filtrado = getVg.filter(el => typeof (el.id) === 'number'); break;\r\n                    case 'created': filtrado = getVg.filter(el => isNaN(el.id)); break;\r\n                    default: filtrado = getVg; break;\r\n                }\r\n                return {\r\n                    ...state,\r\n                    allVideogames: filtrado\r\n                };\r\n        case GET_PLATFORMS:\r\n            return {\r\n                ...state,\r\n                platforms: [...action.payload]\r\n            }\r\n        default:\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n}\r\n\r\nexport default rootReducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}